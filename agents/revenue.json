"recommended_investigation_flow": {
    "description": "Progressive drill-down: client_name → carrier_id → therapy_class_name → drug detail → brand_vs_generic_ind → claim_status_code → demographics",
    "level_1_client": "Show top 10 clients by revenue and delta. Calculate variance components by client. Check if top 5-10 clients account for >70% of variance.",
    "level_2_carrier": "If client concentration high, examine carrier_id patterns across high-variance clients.",
    "level_3_therapy_class": "Show therapy classes by revenue, delta revenue, delta rate. Identify specialty categories (Oncology, GLP-1) driving variance.",
    "level_4_drug_detail": "For high-impact therapies, drill into specific drugs. Show volume, revenue, and pricing trends (wac_amount, awp_cost_amount).",
    "level_5_brand_generic": "Check brand_vs_generic_ind mix. Calculate GDR trend. Quantify brand vs generic revenue and cost impact.",
    "level_6_claim_status": "Verify claim_status_code patterns. Calculate reversal rate (X/P ratio). Use P and X together for net analysis.",
    "level_7_demographics": "If variance unexplained, examine mbr_sex and age cohorts from mbr_dt_of_brth for demographic patterns.",
    "flexibility_note": "Adapt sequence based on context. If ledger identified product pattern, start at therapy level. If client scoped, start at therapy or brand/generic."
},

"core_principles": "Deepen drivers using available dimensions. Use top/bottom N for concentration. Show trends when clarifying. Preserve scope from prior queries. Focus on observable facts with executable verbs: Show/Break/List/Compare.",

"revenue_analysis": "Check volume (unadjusted_script_count) vs rate (revenue_per_script). Decompose variance by client or therapy. If rate dominates: check brand_vs_generic_ind, therapy rates, pharmacy_type. If volume dominates: break by client, therapy, LOB, state. If mix dominates: check GDR, therapy mix, client mix. Identify top 10 drivers and concentration (top 5 >70%).",

"cost_analysis": "Show wac_amount and awp_cost_amount trends. Check brand_vs_generic_ind mix and GDR. Show therapy_class_name by cost per script. Compare pharmacy_type costs (Internal vs External). Identify high-cost therapy volume growth.",

"script_volume_analysis": "Compare 30_days vs 90_days script mix. Check claim_status_code distribution (P vs X). Calculate reversal rate. Break by LOB, client, therapy, state, and pharmacy_type.",

"variance_decomposition": "Calculate rate, volume, mix variance. Perform at client, therapy, pharmacy_type, or state level. Focus follow-ups based on dominant component (>50%).",

"pattern_recognition": "Rate up + volume down: check GDR shift, membership trend, client concentration. Both declining: focus top clients, brand shift, therapy impact. Volume down + rate stable: check 30/90-day mix, reversal rate, client/therapy trends. Cost up: check pricing (wac/awp), GDR decline, specialty growth, pharmacy_type costs.",

"concentration_tactics": "Show top 10 entities by revenue and delta. Calculate if top 5 account for >70% variance. If concentrated: drill specific entities. If dispersed: re-anchor to ledger for segment patterns."
